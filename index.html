<!DOCTYPE html>
<html lang ="en">
	<head>
		<link rel="stylesheet" href="styles.css">
		<meta name="viewport" content="width=device-width, initial scale=1.0">
		<title>Rock Paper Scissors!</title>
	</head>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
	</style>
	<body>
		<div class="master">
			<div class="display">
				<h2 id="text1">Rock Paper Scissors!</h2>
				<h2 id="text2">Choose your Weapon!</h2>
				<h2 id="text3"></h2>
			</div>
			<div class="select">
				<div class="child">
					<div type="button" onclick="clicked('Rock')" class="button">Rock</div>
					<img src="arrow.png" class="arrows"></img>
				</div>
				<div class="child">
					<div onclick="clicked('Paper')" class="button" type="button">Paper</div>
					<img src="arrow.png" class="arrows"></img>
				</div>
				<div class="child">
					<div type="button" onclick="clicked('Scissors')" class="button">Scissors</div>
					<img src="arrow.png" class="arrows"></img>
				</div>
			
			</div>
			<div class="scores">
				<div class="score-card">
					<h3>Player</h3>
					<div class="progress-bar">
						<div id="p1" class="points"></div>
					</div>
				</div>
				<div class="score-card">
					<h3>Computer</h3>
					<div class="progress-bar">
						<div id="cpu" class="points"></div>
					</div>
				</div>
			</div>
			<div id="myModal" class="modal">

 			 <!-- Modal content -->
  				<div class="modal-content">
    					<span class="close">&times;</span>
    					<div class="Winner"></div>
  				</div>

			</div>
		</div>
		

		<script>
			//Player is 1 Computer is 0 Tie is 2
			var width = 0;
			var cwidth = 0;
			function fight(player, comp) {
						if (player === 'Rock') {
									if (comp === 'Paper') {
												return 0;
												};
									if (comp === 'Rock') {
												return 2;
												};
									if (comp === 'Scissors') {
												return 1;
												};
									};

						if (player === 'Paper') {
									if (comp === 'Paper') {
												return 2;
												};
									if (comp === 'Rock') {
												return 1;
												};
									if (comp === 'Scissors') {
												return 0;
												};
									};

						if (player === 'Scissors') {
									if (comp === 'Paper') {
												return 1;
												};
									if (comp === 'Rock') {
												return 0;
												};
									if (comp === 'Scissors') {
												return 2;
												};
									};
			}

			function clicked(input) {
						var weapons = ['Rock', 'Paper', 'Scissors'];
						var compChoice = weapons[Math.floor(Math.random() * weapons.length)];
						let playerChoice = input;
						var results = "";
						
						if (fight(playerChoice, compChoice) == 1) {
										results = "Player Wins this Round!";
										text3.style.color = "green";
										if (width + 20 == 100) {
														width = 100;
														p1.style.width = width + "%";
														var modal = document.getElementById("myModal");
														modal.style.display = "block";
														document.getElementById("Winner").innerHHTML = "You Win! Huzzah!";

										} else {
												width += 20;
										}
									
										p1.style.width = width + "%";
									};
						if (fight(playerChoice, compChoice) == 2) {
										results = "Tie Round!";
										text3.style.color = "silver";
									};
						if (fight(playerChoice, compChoice) == 0) {
										results = "Computer Wins this Round!";
										text3.style.color = "red";
										if (cwidth + 20 == 100) {
														var modal = document.getElementById("myModal");
														modal.style.display = "block";
														cwidth = 100;
														cpu.style.width = cwidth + "%";
														document.getElementById("Winner").innerHHTML = "Computer Wins! Boohoo!";
										} else {
												cwidth += 20;
										}
										cpu.style.width = cwidth + "%";

									};								
						document.getElementById("text1").innerHTML = "Player picked " + playerChoice;
						setTimeout(1000);
						document.getElementById("text2").innerHTML = "Computer picked " + compChoice;
						setTimeout(1000);
						document.getElementById("text3").innerHTML = results;
			}

						
		</script>
	</body>


</html>
